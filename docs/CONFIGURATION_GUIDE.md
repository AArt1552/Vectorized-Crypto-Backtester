# ðŸŽ›ï¸ Configuration & Parameters Guide

This guide provides a comprehensive explanation of every parameter available in the `config.json` file. The backtester uses these settings to generate a **Cartesian product** of all provided lists, allowing you to test millions of strategy combinations to find the statistical "sweet spot."

---

## ðŸ—ï¸ Core Architecture

The configuration file relies on **key-value pairs** where values are mostly **lists**.
* **Single Value:** `[10]` -> Tests this specific value.
* **Multiple Values:** `[10, 20, 50]` -> The engine will run separate backtests for *each* of these values combined with all other parameters.

### ðŸ“ Data Sources
Paths to the dataset files (generated by `get_data.py`).

| Parameter | Description |
| :--- | :--- |
| `candles_file_BTC` | Path to the Bitcoin (Leader) feather or JSON file. |
| `candles_file_asset` | Path to the Altcoin (Target) feather or JSON file. |
| `candles_file_fear` | Path to the Fear & Greed Index JSON file. |

---

## ðŸ’° Capital & Fees

| Parameter | Type | Description |
| :--- | :--- | :--- |
| `initial_balance` | Float | The starting capital for the simulation (e.g., `1000.0`). |
| `fixed_fee` | Float | The exchange trading fee per order (taker fee). `0.001` equals 0.1%. |
| `entry_percentage` | Float | Percentage of the current balance to use per trade. |

---

## ðŸš€ Dynamic Leverage Matrix

The engine adapts leverage based on the specific **Entry Type** and the **Market Sentiment** (Fear Index). This allows aggressive leverage during clear trends and conservative leverage during uncertainty.

### Standard Leverage (Normal Market Conditions)
| Parameter | Description |
| :--- | :--- |
| `leverage_BTC` | Leverage for trades triggered by standard BTC volatility. |
| `leverage_Reentry` | Leverage for DCA (Dollar Cost Averaging) re-entries. |
| `leverage_SP` | Leverage for "Sniper" (SP) high-precision entries. |

### Fear & Greed Overrides
These values override the standard leverage when the Fear Index hits specific thresholds.

| Parameter | Description |
| :--- | :--- |
| **High Fear (Greed)** | *Active when Index >= `fear_high_value`* |
| `fear_high_leverage_BTC` | Override for BTC entries during high greed/pumps. |
| `fear_high_leverage_Reentry` | Override for Re-entries during high greed. |
| `fear_high_leverage_SP` | Override for SP entries during high greed. |
| **Low Fear (Panic)** | *Active when Index <= `fear_low_value`* |
| `fear_low_leverage_BTC` | Override for BTC entries during panic/dumps. |
| `fear_low_leverage_Reentry` | Override for Re-entries during panic. |
| `fear_low_leverage_SP` | Override for SP entries during panic. |

---

## ðŸ“ˆ Entry Logic & Triggers

The bot uses Bitcoin as a leading indicator. It watches for BTC moves to predict Altcoin moves.

### BTC Correlation Triggers (Standard)
| Parameter | Description |
| :--- | :--- |
| `btc_entry_trigger_value` | The % move in BTC required to trigger an entry (e.g., `0.007` = 0.7%). |
| `btc_entry_trigger_period` | The time window (minutes) for this BTC move to occur. |

### BTC Long Trend Triggers
Used to detect stronger, sustained trends.
| Parameter | Description |
| :--- | :--- |
| `btc_entry_long_trigger_value` | A larger % move requirement (e.g., `0.014`). |
| `btc_entry_long_trigger_period` | A longer time window (e.g., `3` minutes). |

### SP (Sniper) Triggers
An alternative, high-sensitivity trigger set.
| Parameter | Description |
| :--- | :--- |
| `sp_btc_entry_trigger_value` | BTC % move for SP entry. |
| `sp_btc_entry_trigger_period` | Time window for SP entry. |

### Pre-Entry Filters (Min. Volatility)
Optional filters to avoid entering during flat/dead markets.
| Parameter | Description |
| :--- | :--- |
| `btc_minimum_enable` | If `true`, checks if BTC moved at least `pct` in `window` before any entry. |
| `asset_minimum_enable` | If `true`, checks if the Altcoin moved at least `pct` in `window`. |

---

## ðŸ›¡ï¸ Risk Management (DCA & Re-entries)

If the trade goes against you, the bot can average down price (DCA).

| Parameter | Description |
| :--- | :--- |
| `reentry_pct_values` | The % drop in the Altcoin price (from entry) to trigger DCA #1. |
| `reentry_window_values` | Lookback period (minutes) to calculate the drop. |
| `reentry_pct_values_2` | The % drop required for DCA #2 (usually larger). |
| `sp_reentry_...` | Specific DCA settings for SP-type trades. |

---

## ðŸ˜¨ Fear & Greed Integration

This is the quantitative edge of the system. It swaps entire parameter sets based on global market psychology.

| Parameter | Description |
| :--- | :--- |
| `fear_high_override` | Enable/Disable logic changes during High Fear (Greed). |
| `fear_high_value` | Threshold (0-100) to activate "High Fear" mode (e.g., `60`). |
| `fear_low_override` | Enable/Disable logic changes during Low Fear (Panic). |
| `fear_low_value` | Threshold to activate "Low Fear" mode (e.g., `40`). |
| `fear_stop` | **Circuit Breaker:** If `true`, stops opening new trades when Fear is extremely low. |
| `fear_stop_value` | The value below which trading stops (e.g., `23` - Extreme Fear). |

> **Note:** When High/Low Fear modes are active, the bot uses the specific `fear_high_btc_...` or `fear_low_btc_...` parameters defined in your config, replacing the standard triggers.

---

## ðŸ“‰ Exits & Take Profit

| Parameter | Description |
| :--- | :--- |
| `take_profit_dynamic` | Enables a Trailing Stop mechanism instead of a fixed target. |
| `take_profit_trigger` | The profit % required to "arm" the trailing stop (e.g., `0.01`). |
| `take_profit_update` | The step size to raise the stop as price goes up. |
| `stop_loss` | Standard Stop Loss %. |
| `stop_loss_hard` | Emergency Stop Loss (executes immediately, bypassing cooldowns). |
| `disable_stop_loss` | If `true`, runs without a fixed SL (risky, relies on liquidation or panic exits). |

### Panic Exits
Safety mechanisms to flee the market during crashes.
| Parameter | Description |
| :--- | :--- |
| `btc_exit_panic_trigger_value` | Exit if BTC drops `X`% in `Y` minutes. |
| `asset_exit_panic_trigger_value` | Exit if Asset drops `X`% in `Y` minutes. |

---

## ðŸš¨ Red Alert System (Circuit Breaker)

Prevents trading after a bad loss or during a flash crash.

| Parameter | Description |
| :--- | :--- |
| `red_alert_trigger_pct` | If price drops `X`% rapidly, "Red Alert" is activated. |
| `red_alert_reset_pct` | Market must recover `X`% from the low to deactivate Red Alert. |
| `max_entries_day` | Hard limit on the number of trades per day. |
